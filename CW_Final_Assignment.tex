\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage{geometry}
\geometry{a4paper, margin=1in}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{listings} % Added for code highlighting
\usepackage{xcolor}

\lstdefinelanguage{yaml}{
    keywords={true, false, null, yes, no},
    comment=[l]{\#},
    morestring=[b]',
    morestring=[b]",
    stringstyle=\color{red},
    keywordstyle=\color{blue}\bfseries,
    identifierstyle=\color{black},
    commentstyle=\color{green}\itshape,
    sensitive=false
}
% Listings settings for YAML
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    numbers=left,
    numberstyle=\tiny,
    frame=single,
    captionpos=b,
    keywordstyle=\color{blue}\bfseries,
    language=yaml
}

\setlength{\headheight}{15pt}
\pagestyle{fancy}
\fancyhf{}
\rhead{Computer Workshop Course}
\lhead{Final Assignment}
\rfoot{Page \thepage}

\title{
    \vspace{2in}
    \textbf{Final Assignment :}\\
    \textbf{Integration of Tools and Practices}\\
    \large Iran University of Science and Technology\\
    \large Department of Computer Engineering\\
    \vspace{2in}
}

\author{
    \vspace{0.5in}
    Qazal Arabali\\
    Computer Workshop\\
    \vspace{0.5in}
}

\date{January 23, 2025}
\begin{document}

\begin{titlepage}
    \maketitle
    \thispagestyle{empty}
\end{titlepage}

\newpage

\tableofcontents
\newpage

\section{Git and GitHub}
    \subsection{Repository Initialization and Commits}
    
To initialize the repository and make the first commits, the following steps were taken :

\begin{enumerate}
    \item Logged into \textbf{GitHub} and created a new repository named :
    \texttt{CW\_Final\_Assignment}
    
    \item Configured the repository settings :
    \begin{itemize}
        \item Set the repository visibility to \textbf{Public}.
        \item Checked the box: \texttt{Initialize this repository with a README}.
    \end{itemize}

    \item Cloned the repository to the local system using the command :
    \begin{lstlisting}[caption=Clone Repository]
    git clone https://github.com/username/CW_Final_Assignment
    \end{lstlisting}

    \item Navigated to the cloned repository directory :
    \begin{lstlisting}[caption=Navigate to Directory]
    cd CW_Final_Assignment
    \end{lstlisting}

    \item Created a new LaTeX file named \texttt{CW\_Final\_Assignment.tex} with the initial structure.

    \item Staged and committed the new file:
    \begin{lstlisting}[caption=Stage and Commit Changes]
    git add CW_Final_Assignment.tex
    git commit -m "Added initial LaTeX file"
    \end{lstlisting}

    \item Pushed the changes to the GitHub repository :
    \begin{lstlisting}[caption=Push Changes]
    git push
    \end{lstlisting}
\end{enumerate}

\subsection{GitHub Actions for LaTeX Compilation}

To streamline the process of compiling the LaTeX document and managing different stages of updates, two distinct GitHub Actions workflows were created :

\begin{itemize}
    \item \textbf{Workflow for Intermediate Versions :}
    This workflow compiles the LaTeX document and uploads the resulting PDF as an \textbf{Artifact}. It is used for minor updates or ongoing progress, ensuring the document is accessible for review without cluttering the Releases section.
    
    \item \textbf{Workflow for Major Releases :}
    This workflow compiles the LaTeX document and publishes the resulting PDF as part of a \textbf{GitHub Release}. It is triggered only for significant updates or finalized versions to provide stable releases for public access.
\end{itemize}

\subsubsection{Workflow for Intermediate Versions (Artifact Only)}

For intermediate updates or minor progress, the LaTeX document is compiled and uploaded as an \textbf{Artifact}. This ensures that ongoing work is accessible for review and testing without cluttering the Releases section.

\begin{enumerate}
    \item \textbf{Trigger :} This workflow runs on every \texttt{push} to the \texttt{main} branch.
    \item \textbf{Outcome :} The compiled PDF is stored in the \textbf{Actions > Artifacts} section for download.
    \item \textbf{Workflow Configuration :}
    \begin{lstlisting}[language=yaml, caption=Workflow for Intermediate Versions]
        name: Compile LaTeX and Upload Artifact
        
        on:
          push:
            branches:
              - main
        
        jobs:
          build_latex:
            runs-on: ubuntu-latest
            steps:
              - name: Checkout Repository
                uses: actions/checkout@v3
        
              - name: Compile LaTeX Document
                uses: xu-cheng/latex-action@v2
                with:
                  root_file: CW_Final_Assignment.tex
        
              - name: Upload Compiled PDF as Artifact
                uses: actions/upload-artifact@v3
                with:
                  name: CW_Final_Assignment
                  path: ./CW_Final_Assignment.pdf
        \end{lstlisting}
        
\end{enumerate}

\subsubsection{Workflow for Major Releases}

For significant updates or final versions, the LaTeX document is compiled, and the resulting PDF is published as part of a \textbf{GitHub Release}. This approach ensures that only stable and finalized versions are available in the Releases section.

\begin{enumerate}
    \item \textbf{Trigger :} This workflow runs on every \texttt{push} of a Git tag in the format \texttt{x.x.x} (e.g., \texttt{1.0.0}).
    \item \textbf{Outcome :} The compiled PDF is attached to a new Release in the \textbf{Releases} section.
    \item \textbf{Workflow Configuration :}
    \begin{lstlisting}[language=yaml, caption=Workflow for Major Releases]
        name: Release Compiled PDF
        
        on:
          push:
            tags:
              - '*.*.*'
        
        jobs:
          build_latex:
            permissions: write-all
            runs-on: ubuntu-latest
            steps:
              - name: Checkout Repository
                uses: actions/checkout@v3
        
              - name: Compile LaTeX Document
                uses: xu-cheng/latex-action@v2
                with:
                  root_file: CW_Final_Assignment.tex
        
              - name: Create Release
                id: create_release
                uses: actions/create-release@v1
                env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                with:
                  tag_name: ${{ github.ref }}
                  release_name: Release ${{ github.ref }}
                  draft: false
                  prerelease: false
        
              - name: Upload Release Asset
                id: upload_release_asset
                uses: actions/upload-release-asset@v1
                env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                with:
                  upload_url: ${{ steps.create_release.outputs.upload_url }}
                  asset_path: ./CW_Final_Assignment.pdf
                  asset_name: CW_Final_Assignment.pdf
                  asset_content_type: application/pdf
    \end{lstlisting}
        
\end{enumerate}

\section{Exploration Tasks}
    \subsection{Vim Advanced Features}
    
    \subsection{Memory profiling}
        \subsubsection{Memory Leak}
        \subsubsection{Memory profilers}

    \subsection{GNU/Linux Bash Scripting}
        \subsubsection{fzf}
        \subsubsection{Using fzf to find your favorite PDF}
        \subsubsection{Opening the file using Zathura}

\section{Git and FOSS}
    \subsection{README.md}
    \subsection{Issues}
    \subsection{FOSS contribution}

\end{document}
